@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-jb-dark text-jb-text font-sans antialiased overflow-hidden selection:bg-jb-accent/30 tracking-tight;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
  }
}

@layer components {
  .scrollbar-hide::-webkit-scrollbar { display: none; }
  .scrollbar-thin::-webkit-scrollbar { width: 3px; }
  .scrollbar-thin::-webkit-scrollbar-track { background: transparent; }
  .scrollbar-thin::-webkit-scrollbar-thumb { @apply bg-white/10 rounded-full hover:bg-white/20 transition-colors; }

  .text-vibrant {
    @apply bg-gradient-to-r from-jb-accent via-jb-purple to-jb-orange bg-clip-text text-transparent;
    filter: drop-shadow(0 0 15px rgba(157, 91, 210, 0.3));
  }

  .glass-panel {
    @apply bg-black/25 backdrop-blur-3xl border border-white/5 shadow-2xl relative overflow-hidden;
  }

  /* Add a rim-light effect to glass panels */
  .glass-panel::before {
    content: '';
    @apply absolute inset-0 pointer-events-none border border-white/5 rounded-[inherit];
    background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, transparent 40%, transparent 60%, rgba(255,255,255,0.02) 100%);
  }

  @keyframes border-flow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .vibrant-border::after {
    content: "";
    position: absolute;
    inset: -1.5px;
    z-index: -1;
    background: linear-gradient(90deg, #3C71F7, #9D5BD2, #FB923C, #F43F5E, #3C71F7);
    background-size: 300% 100%;
    @apply rounded-[inherit] opacity-40;
    animation: border-flow 8s linear infinite;
    filter: blur(1px);
  }

  /* Chat bubble refinements - more translucent and glass-like */
  .chat-bubble-user {
    @apply bg-gradient-to-br from-jb-accent/90 via-jb-purple/90 to-jb-pink/90 backdrop-blur-xl text-white shadow-2xl shadow-jb-accent/20 border border-white/20;
  }

  .chat-bubble-ai {
    @apply bg-black/40 backdrop-blur-3xl border border-white/10 shadow-[0_20px_50px_rgba(0,0,0,0.3)] rounded-[40px] p-8 text-[15.5px] leading-relaxed;
  }

  .chat-bubble-ai::before {
    content: '';
    @apply absolute inset-0 pointer-events-none rounded-[inherit];
    background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, transparent 100%);
  }

  /* Laboratory Report Fidelity: Code Blocks */
  .prose pre {
    @apply bg-[#050508]/80 border border-white/10 rounded-2xl p-0 overflow-hidden relative shadow-inner;
    background-image: radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  .prose pre::before {
    content: "Source Analysis // Diagnostic Output";
    @apply block w-full bg-white/5 px-4 py-2 text-[9px] font-black text-slate-500 uppercase tracking-[0.3em] border-b border-white/5;
  }

  .prose code {
    @apply font-mono text-jb-accent px-1 py-0.5 bg-white/5 rounded text-[14px];
  }

  .prose pre code {
    @apply block p-6 bg-transparent text-slate-300 leading-relaxed;
  }

  /* Laboratory Report Fidelity: Tables */
  .prose table {
    @apply w-full border-collapse my-8 rounded-xl overflow-hidden border border-white/5;
  }

  .prose thead {
    @apply bg-white/5;
  }

  .prose th {
    @apply px-4 py-3 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest border-b border-white/10;
  }

  .prose td {
    @apply px-4 py-3 text-[13px] text-slate-300 border-b border-white/5;
  }

  .prose tr:last-child td {
    @apply border-b-0;
  }

  .prose tr:hover td {
    @apply bg-white/[0.02] text-white;
  }

  /* Liquid Intelligence Animations */
  @keyframes fluid-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  .liquid-input {
    background: linear-gradient(-45deg, rgba(5, 5, 8, 0.8), rgba(20, 20, 30, 0.8), rgba(15, 5, 20, 0.8));
    background-size: 400% 400%;
    animation: fluid-shift 15s ease infinite;
  }

  @keyframes scanline {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(1000%); }
  }

  .neural-scan::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, transparent, rgba(60, 113, 247, 0.05), transparent);
    height: 10%;
    width: 100%;
    animation: scanline 8s linear infinite;
    pointer-events: none;
    z-index: 50;
  }

  .hud-corner {
    @apply absolute w-4 h-4 border-slate-500/30 pointer-events-none z-50 opacity-40;
  }

  .hud-line {
    @apply absolute bg-slate-500/20 pointer-events-none z-50;
  }
}
